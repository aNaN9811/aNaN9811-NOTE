# Activity 的四种启动模式



## standard

standard 是活动默认的启动模式，在不进行显示指定的情况下，所有的活动都会自动使用这种启动模式，在该模式下，每当启动一个新活动，它就会在返回栈中入栈，并处于栈顶的位置，对于使用 standard 模式的活动，系统不会在乎这个活动是否已经在返回栈中存在，每次启动都会创建该活动的一个新实例



## singleTop

当启动模式指定为该模式时，在启动活动时如果发现返回栈顶已经是该活动，则认为可以直接使用它，不会再创建新的活动实例



## singleTask

当启动模式指定为 SingleTask，每次启动该活动时系统首先会在返回栈中检查是否存在该活动的实例，如果发现已将存在则直接使用该实例，并把这个活动之上的所有活动统统出栈，如果没有发现就会创建一个新的活动实例



## singleInstance

指定为 singleInstance 模式的活动会启用一个新的返回栈来管理这个活动（其实如果 singleTask 模式指定了不同的 taskAffinity，也会启动一个新的返回栈）

如果我们的程序中有一个活动是允许其他程序调用的，想实现其他程序和我们的程序可以共享这个活动的实例，使用前面3种模式是肯定做不到的，因为每个应用程序都会有自己的返回栈，同一个活动在不同的返回栈中入栈时必然是创建了新的实例，而在 singleInstance 这种模式下会有一个单独的返回栈来管理这个活动，不管是哪个应用程序来访问这个活动，都共用的同一个返回栈，也就解决了共享实例的问题